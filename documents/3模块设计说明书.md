# 美鹅外卖平台系统文档合集

---

- **项目名称：** 美鹅外卖平台系统  
- **编写人：** 沈冬法  
- **文档版本：** V2.7  
- **日期：** 2025年6月4日

---

# 一、系统架构设计说明书（SADD）

## 1. 文档概述

### 1.1 编写目的
本说明书用于描述系统整体架构设计，包括部署拓扑、模块划分、通信机制及技术栈选型，帮助开发、测试、运维人员理解系统架构并指导开发实施。

### 1.2 项目背景
外卖服务作为本地生活服务的核心业务之一，需支持高并发、快速响应、安全支付等特性。本项目采用 C/S 架构，构建一个多角色（用户、商家、平台）参与的外卖服务系统。

### 1.3 读者对象
- 架构师
- 开发工程师（C++ / Qt / MySQL）
- 测试工程师
- 产品经理
- 运维人员

### 1.4 术语与缩写

| 缩写 | 含义 |
|------|------|
| SADD | 系统架构设计说明书 |
| C/S  | Client/Server 架构 |
| Qt   | 跨平台图形界面开发框架 |
| API  | 应用程序编程接口 |

### 1.5 参考文献
- 软件需求规格说明书（版本 V2.7）
- Qt官方开发指南
- MySQL文档
- 项目调研报告与行业竞品分析

---

## 2. 系统总体设计

### 2.1 系统架构概述
系统采用典型的 C/S 架构模型：客户端通过 Qt 实现图形界面，服务端使用 C++ 实现业务处理逻辑，数据持久化由 MySQL 负责，通信采用基于 HTTP 协议。

### 2.2 部署拓扑结构图

![架构图](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202506041313140.webp)

### 2.3 模块划分与功能说明

| 模块名称     | 功能描述                           | 所属层     |
|--------------|------------------------------------|------------|
| 登录模块     | 账户注册、登录验证                 | 客户端/服务端 |
| 商品管理     | 商户上架、编辑、删除商品           | 服务端     |
| 购物车       | 添加、移除、修改购物项             | 客户端     |
| 订单处理     | 订单生成、提交、取消、查看         | 服务端     |
| 支付模块     | 与第三方支付平台交互生成二维码     | 服务端     |
| 销售日志查询 | 商户/平台查看销售历史              | 服务端     |
| 消息通知     | 下单/订单状态变更时提示用户        | 客户端     |

---

## 3. 通信设计

### 3.1 通信模式说明
- 客户端与服务端通信使用 HTTP 协议
- 数据格式统一为 JSON（便于前后端解析）
- 所有请求通过统一网关模块接入（接口鉴权层）

### 3.2 数据流程图（简要）

**用户下单流程数据流：**

用户操作(Qt) → 提交购物车 → 服务端生成订单 → 第三方支付接口生成二维码 → 客户端展示二维码

### 3.3 安全通信设计
- 所有敏感数据（如密码、支付信息）加密传输

---

## 4. 技术选型与架构决策

### 4.1 技术栈说明

| 类型       | 技术           |
|------------|----------------|
| 客户端 GUI | Qt 6.7         |
| 服务端开发 | C++17          |
| 反向代理服务 | Nginx 1.24.0  |
| 数据库     | MySQL 8.0      |
| 数据缓存   | Redis 7.2.4    |
| 部署服务   | Docker 28.0.4  |
| 通信协议   | JSON over HTTP |

### 4.2 选型理由
- Qt 提供原生跨平台 GUI 能力
- C++17 性能出色、资源控制精细
- Nginx 稳定高效的反向代理
- Redis 提供高效读写缓存能力
- Docker 提升部署一致性、环境隔离性

### 4.3 可扩展性与容错设计
- 接口解耦、模块划分清晰
- 错误日志记录完整
- 采用缓存加速热点数据读取

---

## 5. 性能与安全设计

### 5.1 性能优化策略
- 使用 Redis 缓存订单、菜品列表
- 异步下单/支付处理
- SQL 语句优化与索引规划

### 5.2 安全控制设计
- 用户密码加密（SHA-256 + salt）
- 参数校验防止非法调用

---

## 6. 部署与运维建议

### 6.1 环境要求
- Linux 服务器，8核16G内存
- 客户端需支持 Qt 6.7 运行库
- 服务端开放 8080 或自定义端口

### 6.2 日志与监控
- 使用 `spdlog` 实现多级别日志
- 后续可接入轻量监控方案

### 6.3 部署流程
- 客户端打包为安装程序
- 服务端通过 Docker 镜像部署

---

## 7. 附录
- 附录A：数据库结构设计略
- 附录B：接口规范详见《接口设计说明书》

---

# 二、技术选型报告（Tech Stack Evaluation）

## 1. 技术选型原则
- 性能优先
- 跨平台优先
- 开源优先
- 可维护性强
- 部署自动化

## 2. 核心技术选型对比与说明

### 客户端框架对比

| 框架     | 跨平台 | 性能 | 最终选择 |
|----------|--------|------|----------|
| Qt 6.7   | ✅      | 高   | ✅ |
| Electron | ✅      | 低   | ❌ |
| Flutter  | ✅      | 中   | ❌ |

### 服务端语言

| 语言   | 并发能力 | 控制力 | 最终选择 |
|--------|-----------|---------|----------|
| C++17  | 强        | 高      | ✅ |
| Go     | 强        | 中      | ❌ |
| Java   | 中        | 中      | ❌ |

### 数据存储

| 类型      | 技术       | 用途         | 最终选择 |
|-----------|------------|--------------|----------|
| 关系型    | MySQL 8.0  | 订单、用户等 | ✅ |
| 缓存系统  | Redis 7.2.4| 热点数据     | ✅ |

---

# 三、模块设计说明书（Detailed Design Document）



---

### ~~类结构设计~~



---

### 数据库结构

![account](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202501192017506.webp)

![dish](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202501192024255.webp)

![order](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202501192026572.webp)

![history](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202501192025124.webp)

![orderDish](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202501192027578.webp)

![history](https://picbed0521.oss-cn-shanghai.aliyuncs.com/blogpic/202501192027578.webp)

---

###  ~~异常处理~~

---

### ~~流程图~~

---

### 7. 后续优化方向
- Token 鉴权机制
- WebSocket 实时推送订单状态
- 订单自动取消机制
- 第三方支付接入

---

